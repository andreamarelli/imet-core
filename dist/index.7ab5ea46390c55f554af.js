(()=>{var e={484:()=>{},150:()=>{},833:()=>{},547:()=>{},978:(e,t,n)=>{window.ImetCore={},Vue.component("imet_encoders_responsibles",n(105).Z),window.ModularFormsVendor.Vue.component("imet_radar",n(278).Z),window.ModularFormsVendor.Vue.component("selector-wdpa",n(266).Z),window.ModularFormsVendor.Vue.component("selector-wdpa_multiple",n(640).Z)},266:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(){var e=this,t=e._self._c;return t("selectorDialog",{attrs:{"parent-id":e.id,"search-url":e.searchUrl},scopedSlots:e._u([{key:"selector-anchor",fn:function(){return[t("div",{staticClass:"field-preview"},[e._v("\n            "+e._s(e.anchorLabel)+"\n        ")])]},proxy:!0},{key:"selector-api-search-result-filters",fn:function(){return[t("i",[e._v(e._s(e.Locale.getLabel("modular-forms::common.filter_results"))+": ")]),e._v("  \n        "+e._s(e.Locale.getLabel("imet-core::common.country"))+"\n        "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.filterByCountry,expression:"filterByCountry"}],staticClass:"field-edit filterByCountry",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.filterByCountry=t.target.multiple?n:n[0]},function(t){return e.filterList()}]}},[t("option",{attrs:{value:"null"}},[e._v(" - - ")]),e._v(" "),e._l(e.filteredCountries,(function(n,r){return t("option",{domProps:{value:r}},[e._v("\n                "+e._s(n)+"\n            ")])}))],2)]},proxy:!0},{key:"selector-api-search-result-header",fn:function(){return[t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.name")))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.protected_area.wdpa_id",1)))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.country")))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.protected_area.iucn_category")))])]},proxy:!0},{key:"selector-api-search-result-item",fn:function({item:n}){return[t("td",[t("span",{staticClass:"result_left"},[t("b",[e._v(e._s(n.name))])])]),e._v(" "),t("td",[null!==n.wdpa_id?t("a",{attrs:{target:"_blank",href:"https://www.protectedplanet.net/'+item.wdpa_id+'"}},[e._v(e._s(n.wdpa_id))]):e._e()]),e._v(" "),t("td",[e._v(e._s(n.country_name))]),e._v(" "),t("td",[e._v(e._s(n.iucn_category))])]}}])})};r._withStripped=!0;const s={mixins:[window.ModularForms.MixinsVue.values],props:{searchUrl:{type:String,default:null},dataCountries:{type:Object,default:()=>{}}},data:()=>({Locale:window.Locale,assetPath:window.ModularForms.assetPath,searchComponent:null,selectorComponent:null,inputValue:null,filterByCountry:null}),computed:{anchorLabel(){return null!==this.selectorComponent&&null!==this.selectorComponent.selectedValue?this.selectorComponent.selectedValue.name:null},filteredCountries(){let e=[];this.searchComponent.showList.forEach((function(t){t.country.includes(";")?t.country.split(";").forEach((t=>{e.includes(t)||e.push(t)})):e.includes(t.country)||e.push(t.country)}));let t={};for(const[n,r]of Object.entries(this.dataCountries))e.includes(n)&&(t[n]=r);return t}},mounted(){this.selectorComponent=this.$children[0],this.searchComponent=this.$children[0].$children[0].$children[0]},methods:{afterSearch(e){this.filterByCountry=null},filterList(){let e={country:this.filterByCountry};this.searchComponent.filterShowList(e)},getSelectedValue(e){return this.selectorComponent.selectedValue.wdpa_id}}};n(567);const o=(0,n(900).Z)(s,r,[],!1,null,"ed5f2fe0",null).exports},640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(){var e=this,t=e._self._c;return t("selectorDialog",{attrs:{"parent-id":e.id,"search-url":e.searchUrl},scopedSlots:e._u([{key:"selector-anchor",fn:function(){return[t("span",{staticClass:"field-preview"},e._l(e.inputValuesObj,(function(n){return t("span",{staticClass:"item dontOpenDialog"},[e._v("\n                "+e._s(n.label)+"\n                "),t("i",{staticClass:"fa fa-times removeItem",on:{click:function(t){return e.removeItem(n.id)}}})])})),0)]},proxy:!0},{key:"selector-api-search-result-header",fn:function(){return[t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.name")))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.protected_area.wdpa_id",1)))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.country")))]),e._v(" "),t("th",[e._v(e._s(e.Locale.getLabel("imet-core::common.protected_area.iucn_category")))])]},proxy:!0},{key:"selector-api-search-result-item",fn:function({item:n}){return[t("td",[t("span",{staticClass:"result_left"},[t("b",[e._v(e._s(n.name))])])]),e._v(" "),t("td",[null!==n.wdpa_id?t("a",{attrs:{target:"_blank",href:"https://www.protectedplanet.net/'+item.wdpa_id+'"}},[e._v(e._s(n.wdpa_id))]):e._e()]),e._v(" "),t("td",[e._v(e._s(n.country_name))]),e._v(" "),t("td",[e._v(e._s(n.iucn_category))])]}}])})};r._withStripped=!0;const s={mixins:[window.ModularForms.MixinsVue.values],props:{searchUrl:{type:String,default:null},labelsUrl:{type:String,default:""}},data:()=>({Locale:window.Locale,assetPath:window.ModularForms.assetPath,searchComponent:null,selectorComponent:null,inputValue:null,inputValuesObj:[],inputValuesString:""}),computed:{anchorLabel(){return null!==this.selectorComponent&&null!==this.selectorComponent.selectedValue?this.selectorComponent.selectedValue.name:null}},mounted(){this.getPaLabels(this.value),this.selectorComponent=this.$children[0],this.searchComponent=this.$children[0].$children[0].$children[0]},methods:{getPaLabels(e){let t=this;this.inputValuesObj=[],this.inputValuesString="",null!==e&&fetch(this.labelsUrl,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":window.Laravel.csrfToken},body:JSON.stringify({ids:e})}).then((e=>e.json())).then((function(e){Object.values(e).length>0&&Object.values(e).forEach((function(e){t.pushItem(e)}))})).catch((function(e){}))},getSelectedValue(e){return this.pushItem({id:e.wdpa_id,label:e.name}),this.inputValuesString},pushItem(e){null!==e&&""!==e&&(this.inputValuesObj.push({id:e.id,label:e.label}),""!==this.inputValuesString&&(this.inputValuesString+=","),this.inputValuesString+=e.id)},removeItem(e){let t=this.inputValuesString.replace(e,"").split(",").filter((function(e){return""!==e}));this.inputValuesString=t.toString();let n=[];this.inputValuesObj.forEach((function(t){t.id!==e&&n.push(t)})),this.inputValuesObj=n,this.selectorComponent.emitValue(this.inputValuesString)}}};n(513);const o=(0,n(900).Z)(s,r,[],!1,null,"3d142564",null).exports},105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"imet_responsible"},[e.to_be_shown.internal.length>0?t("div",[t("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.responsible_internal")))]),e._v(":"),t("br"),e._v(" "),t("ul",e._l(e.to_be_shown.internal,(function(n){return t("li",[e._v(e._s(n.Name)+" "),n.Institution?t("span",[t("i",[e._v("("+e._s(n.Institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.to_be_shown.external.length>0?t("div",[t("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.responsible_external")))]),e._v(":\n        "),t("ul",e._l(e.to_be_shown.external,(function(n){return t("li",[e._v(e._s(n.Name)+" "),n.Institution?t("span",[t("i",[e._v("("+e._s(n.Institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.to_be_shown.encoders.length>0?t("div",[t("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.encoders")))]),e._v(":\n        "),t("ul",e._l(e.to_be_shown.encoders,(function(n){return t("li",[e._v(e._s(n.name)+" "),n.institution?t("span",[t("i",[e._v("("+e._s(n.institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.total_count>e.max_visible&&!e.showHidden?t("button",{staticClass:"btn-nav small",on:{click:e.toggleShown}},[t("i",{staticClass:"fas fa-plus-square"}),e._v(" "+e._s(e.Locale.getLabel("modular-forms::common.view_all")))]):e._e(),e._v(" "),e.showHidden?t("button",{staticClass:"btn-nav small",on:{click:e.toggleShown}},[t("i",{staticClass:"fas fa-minus-square"}),e._v(" "+e._s(e.Locale.getLabel("modular-forms::common.hide")))]):e._e()])};r._withStripped=!0;const s={props:{max_visible:{type:Number,default:4},items:{type:[String,Object],default:()=>({internal:[],external:[],encoders:[]})}},data:function(){return{Locale:window.Locale,showHidden:!1}},computed:{total_count(){return this.items.internal.length+this.items.external.length+this.items.encoders.length},to_be_shown(){let e=this,t={internal:[],external:[],encoders:[]},n=0;return Object.values(this.items.internal).forEach((function(r){(n<e.max_visible||e.showHidden)&&null!==r.Name&&t.internal.push(r),n++})),Object.values(this.items.external).forEach((function(r){(n<e.max_visible||e.showHidden)&&null!==r.Name&&t.external.push(r),n++})),Object.values(this.items.encoders).forEach((function(r){(n<e.max_visible||e.showHidden)&&null!==r.name&&""!==r.name.trim()&&t.encoders.push(r),n++})),t}},methods:{toggleShown(){this.showHidden=!this.showHidden}}},o=(0,n(900).Z)(s,r,[],!1,null,"41dd0925",null).exports},278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(){var e=this;return(0,e._self._c)("div",{staticClass:"imet_radar",style:"width:"+e.width+"px; height: "+e.height+"px;"})};r._withStripped=!0;const s={props:{width:{type:Number,default:180},height:{type:Number,default:180},values:{type:Object,default:()=>{}}},computed:{radar_options(){let e=[],t=[];return Object.entries(this.values).reverse().forEach((function([n,r]){e.push(r),t.push({name:n.replace(" ","\n"),max:100})})),{tooltip:{trigger:"axis"},radar:{indicator:t,radius:"65%",startAngle:150,axisName:{color:"#111",padding:[0,0]}},series:[{type:"radar",data:[{value:e,itemStyle:{color:"#7CB5EC"},areaStyle:{color:"#7CB5EC",opacity:.4},symbolSize:6,name:"imet_radar",label:{fontWeight:"bold",color:"#222",show:!0,formatter:function(e){return e.value}}}]}]}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{draw_chart(){Object.keys(this.values).length>1&&(this.chart=window.ImetCoreVendor.echarts.init(this.$el),this.chart.setOption(this.radar_options))}}};n(33);const o=(0,n(900).Z)(s,r,[],!1,null,"ec7ae30c",null).exports},900:(e,t,n)=>{"use strict";function r(e,t,n,r,s,o,i,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,{Z:()=>r})},182:(e,t,n)=>{var r=n(484);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(346).Z)("afe06c80",r,!1,{})},567:(e,t,n)=>{var r=n(150);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(346).Z)("04e7bb68",r,!1,{})},513:(e,t,n)=>{var r=n(833);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(346).Z)("15ee17be",r,!1,{})},33:(e,t,n)=>{var r=n(547);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(346).Z)("418778f0",r,!1,{})},346:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},s=0;s<t.length;s++){var o=t[s],i=o[0],a={id:e+":"+s,css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):n.push(r[i]={id:i,parts:[a]})}return n}n.d(t,{Z:()=>_});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=s&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(e,t,n,s){c=n,d=s||{};var i=r(e,t);return m(i),function(t){for(var n=[],s=0;s<i.length;s++){var a=i[s];(l=o[a.id]).refs--,n.push(l)}for(t?m(i=r(e,t)):i=[],s=0;s<n.length;s++){var l;if(0===(l=n[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(v(n.parts[s]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(s=0;s<n.parts.length;s++)i.push(v(n.parts[s]));o[n.id]={id:n.id,refs:1,parts:i}}}}function f(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+h+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(p){var s=l++;r=a||(a=f()),t=w.bind(null,r,s,!1),n=w.bind(null,r,s,!0)}else r=f(),t=y.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,r){var s=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var o=document.createTextNode(s),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function y(e,t){var n=t.css,r=t.media,s=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(h,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(978),n(182)})();